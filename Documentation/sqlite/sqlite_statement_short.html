<HTML><HEAD>
<meta name="description" content="An SQLite statement associated with a database connection.  Note: If a database connection is closed the statement can no longer be used. In some cases,       when a connection is reopened the statement will recompile itself for use with the new       connection. However, this is not guarenteed to work. As such, please use caution when       caching statements when database connections are open and closed."/>
<meta name="legal" content="See notice at end of class."/>
<meta name="keywords" content="Eiffel class"/>
<meta name="copyright" content="Copyright (c) 1984-2013, Eiffel Software"/>
<meta name="license" content="GPL version 2 (see http://www.eiffel.com/licensing/gpl.txt)"/>
<meta name="licensing_options" content="http://www.eiffel.com/licensing"/>
<meta name="copying" content="This file is part of Eiffel Software's Eiffel Development Environment.  Eiffel Software's Eiffel Development Environment is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2 of the License (available at the URL listed under license above).  Eiffel Software's Eiffel Development Environment is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with Eiffel Software's Eiffel Development Environment; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA"/>
<meta name="source" content="Eiffel Software 5949 Hollister Ave., Goleta, CA 93117 USA Telephone 805-685-1006, Fax 805-685-6869 Website http://www.eiffel.com Customer support http://support.eiffel.com"/>
<meta name="keywords" content="Eiffel class"/>
<TITLE>sqlite_statement Contracts</TITLE></HEAD>
<BODY BGCOLOR="white">
<P ALIGN="CENTER">Automatic generation produced by ISE Eiffel</P>
<PRE><TABLE BORDER="1" ALIGN="CENTER"><TR><TD><A HREF="../class_list.html">Classes</A></TD><TD><A HREF="../cluster_list.html">Clusters</A></TD><TD><A HREF="../cluster_hierarchy.html">Cluster hierarchy</A></TD><TD><A HREF="sqlite_statement_chart.html">Chart</A></TD><TD><A HREF="sqlite_statement_links.html">Relations</A></TD><TD><A HREF="sqlite_statement.html">Text</A></TD><TD><A HREF="sqlite_statement_flat.html">Flat</A></TD><TD>Contracts</TD><TD><A HREF="sqlite_statement_flatshort.html">Flat contracts</A></TD></TR></TABLE><B>note</B>
    description: "[
        An SQLite statement associated with a database connection.
        
        Note: If a database connection is closed the statement can no longer be used. In some cases,
              when a connection is reopened the statement will recompile itself for use with the new
              connection. However, this is not guarenteed to work. As such, please use caution when
              caching statements when database connections are open and closed.
    ]"
    legal: "See notice at end of class."
    status: "See notice at end of class."
    date: "$Date: 2013-11-07 12:09:47 -0800 (Thu, 07 Nov 2013) $"
    revision: "$Revision: 93250 $"

<B>class</B> <B>interface</B>
    <A HREF="../sqlite/sqlite_statement_short.html">SQLITE_STATEMENT</A>

<B>create</B> 
    <A HREF="../sqlite/sqlite_statement_short.html#f_make">make</A>

<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Access</FONT>

    <A NAME="f_string"><A HREF="../sqlite/sqlite_statement_short.html#f_string">string</A>: <A HREF="../elks/immutable_string_8_short.html">IMMUTABLE_STRING_8</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> The full statement string passed during initialization.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> May contain multiple SQLite statements.</FONT>

    <A NAME="f_database"><A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A>: <A HREF="../sqlite/sqlite_database_short.html">SQLITE_DATABASE</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Database to execute the SQL statement on.</FONT>

    <A NAME="f_statement_string"><A HREF="../sqlite/sqlite_statement_short.html#f_statement_string">statement_string</A>: <A HREF="../elks/immutable_string_8_short.html">IMMUTABLE_STRING_8</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> The actual compiled database string.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> This may not be the same as </FONT><A HREF="../sqlite/sqlite_statement_short.html#f_string">string</A><FONT COLOR="red"> because statements string can be composed of</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> of multiple statements. After compilation this will contain a single statement.</FONT>

    <A NAME="f_next_statement"><A HREF="../sqlite/sqlite_statement_short.html#f_next_statement">next_statement</A>: <B>detachable</B> <A HREF="../sqlite/sqlite_statement_short.html">SQLITE_STATEMENT</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Next statement in the chain, when the supplied SQLite statement contained multiple SQLite</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> statements.</FONT>
    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Access: Error handling</FONT>

    <A NAME="f_last_exception"><A HREF="../sqlite/sqlite_statement_short.html#f_last_exception">last_exception</A>: <B>detachable</B> <A HREF="../sqlite/sqlite_exception_short.html">SQLITE_EXCEPTION</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Last occurring error, set during compilation.</FONT>
    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Access: Cursor</FONT>

    <A NAME="f_execute_new"><A HREF="../sqlite/sqlite_statement_short.html#f_execute_new">execute_new</A>: <A HREF="../sqlite/sqlite_statement_iteration_cursor_short.html">SQLITE_STATEMENT_ITERATION_CURSOR</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Execute the SQLite statement.</FONT>
        <B>require</B>
            is_compiled: <A HREF="../sqlite/sqlite_statement_short.html#f_is_compiled">is_compiled</A>
            is_connected: <A HREF="../sqlite/sqlite_statement_short.html#f_is_connected">is_connected</A>
            not_is_executing: <B>not</B> <A HREF="../sqlite/sqlite_statement_short.html#f_is_executing">is_executing</A>
            is_accessible: <A HREF="../sqlite/sqlite_statement_short.html#f_is_accessible">is_accessible</A>
            not_has_arguments: <B>not</B> <A HREF="../sqlite/sqlite_statement_short.html#f_has_arguments">has_arguments</A>
        <B>ensure</B>
            result_attached: <B>attached</B> <B>Result</B>
</A>
    <A NAME="f_execute_new_with_arguments"><A HREF="../sqlite/sqlite_statement_short.html#f_execute_new_with_arguments">execute_new_with_arguments</A> (a_arguments: <A HREF="../elks/iterable_short.html">ITERABLE</A> [<B>detachable</B> <A HREF="../elks/any_short.html">ANY</A>]): <A HREF="../sqlite/sqlite_statement_iteration_cursor_short.html">SQLITE_STATEMENT_ITERATION_CURSOR</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Executes the SQLite statement with bound set of arguments.</FONT>
            <FONT COLOR="red">--</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> </FONT>`a_arguments'<FONT COLOR="red">: The bound arguments to call the SQLite query statement with.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">                Valid arguments are those that descent </FONT><A HREF="../sqlite/sqlite_bind_arg_short.html">SQLITE_BIND_ARG</A><FONT COLOR="red"> or</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">                </FONT><A HREF="../elks/readable_string_8_short.html">READABLE_STRING_8</A><FONT COLOR="red">, or of type {INTEGER_*}, {NATURAL_*} (with the expection</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">                of </FONT><A HREF="../elks/natural_64_short.html">NATURAL_64</A><FONT COLOR="red">), or </FONT><A HREF="../elks/managed_pointer_short.html">MANAGED_POINTER</A><FONT COLOR="red"> (for blobs).</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">                Note: If *not* using </FONT><A HREF="../sqlite/sqlite_bind_arg_short.html">SQLITE_BIND_ARG</A><FONT COLOR="red">, the SQLite statement should use ?NNN</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">                      arguments and not named arguments.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">                      see </FONT><FONT COLOR="red">http://sqlite.org/c3ref/bind_blob.html</FONT>
        <B>require</B>
            is_compiled: <A HREF="../sqlite/sqlite_statement_short.html#f_is_compiled">is_compiled</A>
            is_connected: <A HREF="../sqlite/sqlite_statement_short.html#f_is_connected">is_connected</A>
            not_is_executing: <B>not</B> <A HREF="../sqlite/sqlite_statement_short.html#f_is_executing">is_executing</A>
            is_accessible: <A HREF="../sqlite/sqlite_statement_short.html#f_is_accessible">is_accessible</A>
            has_arguments: <A HREF="../sqlite/sqlite_statement_short.html#f_has_arguments">has_arguments</A>
            a_arguments_attached: <B>attached</B> a_arguments
            a_arguments_is_valid_arguments: <A HREF="../sqlite/sqlite_binding_helpers_short.html#f_is_valid_arguments">is_valid_arguments</A> (a_arguments)
        <B>ensure</B>
            result_attached: <B>attached</B> <B>Result</B>
</A>    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Measurement</FONT>

    <A NAME="f_arguments_count"><A HREF="../sqlite/sqlite_statement_short.html#f_arguments_count">arguments_count</A>: <A HREF="../elks/natural_32_short.html">NATURAL_32</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Number of arguments required to be bound to execute the statement.</FONT>
</A>
    <A NAME="f_changes_count"><A HREF="../sqlite/sqlite_statement_short.html#f_changes_count">changes_count</A>: <A HREF="../elks/natural_32_short.html">NATURAL_32</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> The number of changes executing this statement caused</FONT>
</A>    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Status report</FONT>

    <A NAME="f_is_executing"><A HREF="../sqlite/sqlite_statement_short.html#f_is_executing">is_executing</A>: <A HREF="../elks/boolean_short.html">BOOLEAN</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Indicates if the statement is currently be executed.</FONT>

    <A NAME="f_is_compiled"><A HREF="../sqlite/sqlite_statement_short.html#f_is_compiled">is_compiled</A>: <A HREF="../elks/boolean_short.html">BOOLEAN</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Indicates if the statement was successfully compiled, and if it is compiled with the</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> associated database </FONT><A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A><FONT COLOR="red">.</FONT>
        <B>ensure</B>
            not_internal_stmt_is_null: <B>Result</B> <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_internal_stmt">internal_stmt</A> /= <A HREF="../elks/any_short.html#f_default_pointer">default_pointer</A>
</A>
    <A NAME="f_is_connected"><A HREF="../sqlite/sqlite_statement_short.html#f_is_connected">is_connected</A>: <A HREF="../elks/boolean_short.html">BOOLEAN</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Indicates if the statement is still connected to a database.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Disconnection occurs when a database connection is closed. Even when reopen the statement</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> will still remain disconnected. Use </FONT><A HREF="../sqlite/sqlite_statement_short.html#f_ensure_connected">ensure_connected</A><FONT COLOR="red"> to attempt to reconnect to the</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> associated database.</FONT>
        <B>ensure</B>
            not_internal_stmt_is_null: <B>Result</B> <B>implies</B> (<A HREF="../sqlite/sqlite_statement_short.html#f_is_compiled">is_compiled</A> <B>and then</B> <A HREF="../sqlite/sqlite_statement_short.html#f_internal_db">internal_db</A> = <A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A>.<A HREF="../sqlite/sqlite_database_short.html#f_internal_db">internal_db</A>)
</A>
    <A NAME="f_is_accessible"><A HREF="../sqlite/sqlite_statement_short.html#f_is_accessible">is_accessible</A>: <A HREF="../elks/boolean_short.html">BOOLEAN</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Indicates if the statement is accessible on the current thread.</FONT>
        <B>ensure</B>
            true_result: <B>not</B> {<A HREF="../elks/platform_short.html">PLATFORM</A>}.<A HREF="../elks/platform_short.html#f_is_thread_capable">is_thread_capable</A> <B>implies</B> (<B>Result</B> <B>and</B> <A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A>.<A HREF="../sqlite/sqlite_database_short.html#f_is_accessible">is_accessible</A>)
            same_internal_thread_id: (<B>Result</B> <B>and</B> {<A HREF="../elks/platform_short.html">PLATFORM</A>}.<A HREF="../elks/platform_short.html#f_is_thread_capable">is_thread_capable</A>) <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_internal_thread_id">internal_thread_id</A> = <A HREF="../sqlite/sqlite_statement_short.html#f_get_current_thread_id">get_current_thread_id</A>.<A HREF="../elks/pointer_short.html#f_to_integer_32">to_integer_32</A>
</A>
    <A NAME="f_has_arguments"><A HREF="../sqlite/sqlite_statement_short.html#f_has_arguments">has_arguments</A>: <A HREF="../elks/boolean_short.html">BOOLEAN</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Indicates if the statement has required arguments to execute.</FONT>
        <B>ensure</B>
            has_arguments: <B>Result</B> = (<A HREF="../sqlite/sqlite_statement_short.html#f_arguments_count">arguments_count</A> &gt; 0.<A HREF="../elks/integer_32_ref_short.html#f_to_natural_32">to_natural_32</A>)
</A>
    <A NAME="f_has_error"><A HREF="../sqlite/sqlite_statement_short.html#f_has_error">has_error</A>: <A HREF="../elks/boolean_short.html">BOOLEAN</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Indicates if an error occurred during the last operation.</FONT>
        <B>ensure</B>
            last_exception_attached: <B>Result</B> <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_last_exception">last_exception</A> /= <B>Void</B>
</A>    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Basic operations</FONT>

    <A NAME="f_abort"><A HREF="../sqlite/sqlite_statement_short.html#f_abort">abort</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Aborts an executing statement.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Note: Unlike most of the routines, this can be called from another thread.</FONT>
        <B>require</B>
            is_sqlite_available: <A HREF="../sqlite/sqlite_shared_api_short.html#f_is_sqlite_available">Is_sqlite_available</A>
            is_interface_usable: <A HREF="../sqlite/sqlite_shared_api_short.html#f_is_interface_usable">is_interface_usable</A>
            is_executing: <A HREF="../sqlite/sqlite_statement_short.html#f_is_accessible">is_accessible</A> <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_is_executing">is_executing</A>
        <B>ensure</B>
            is_abort_requested: <A HREF="../sqlite/sqlite_statement_short.html#f_is_abort_requested">is_abort_requested</A>
</A>
    <A NAME="f_ensure_connected"><A HREF="../sqlite/sqlite_statement_short.html#f_ensure_connected">ensure_connected</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Attempts to ensure a statement is connected to the associated database.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Note: This helper routine can be used prior to executing the statement to ensure the</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">       statement is compiled for use with the associated database. Statements become</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">       disconnected when the assoicated database is closed. Even when reopening the database</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">       a reconnection must be made.</FONT>
            <FONT COLOR="red">--</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">       Calling this routine will not reopen the database!</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red">       Reconnection is not guarenteed!</FONT>
        <B>require</B>
            is_sqlite_available: <A HREF="../sqlite/sqlite_shared_api_short.html#f_is_sqlite_available">Is_sqlite_available</A>
            is_interface_usable: <A HREF="../sqlite/sqlite_shared_api_short.html#f_is_interface_usable">is_interface_usable</A>
            is_accessible: <A HREF="../sqlite/sqlite_statement_short.html#f_is_accessible">is_accessible</A>
            database_is_accessible: <A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A>.<A HREF="../sqlite/sqlite_database_short.html#f_is_accessible">is_accessible</A>
            database_is_readable: <A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A>.<A HREF="../sqlite/sqlite_database_short.html#f_is_readable">is_readable</A>
        <B>ensure</B>
            mark_increased: (<B>not</B> <B>old</B> <A HREF="../sqlite/sqlite_statement_short.html#f_is_connected">is_connected</A>) <B>implies</B> (<A HREF="../sqlite/sqlite_statement_short.html#f_mark">mark</A> &gt; <B>old</B> <A HREF="../sqlite/sqlite_statement_short.html#f_mark">mark</A>)
</A>    
<B>invariant</B>
    database_attached: <B>attached</B> <A HREF="../sqlite/sqlite_statement_short.html#f_database">database</A>
    statement_attached: <B>attached</B> <A HREF="../sqlite/sqlite_statement_short.html#f_statement_string">statement_string</A>
    not_statement_is_empty: <B>not</B> <A HREF="../sqlite/sqlite_statement_short.html#f_statement_string">statement_string</A>.<A HREF="../elks/immutable_string_8_short.html#f_is_empty">is_empty</A>
    string_attached: <B>attached</B> <A HREF="../sqlite/sqlite_statement_short.html#f_string">string</A>
    not_string_is_empty: <B>not</B> <A HREF="../sqlite/sqlite_statement_short.html#f_string">string</A>.<A HREF="../elks/immutable_string_8_short.html#f_is_empty">is_empty</A>
    not_internal_db_is_null: <A HREF="../sqlite/sqlite_statement_short.html#f_internal_stmt">internal_stmt</A> /= <A HREF="../elks/any_short.html#f_default_pointer">default_pointer</A> <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_internal_db">internal_db</A> /= <A HREF="../elks/any_short.html#f_default_pointer">default_pointer</A>
    internal_db_is_null: <A HREF="../sqlite/sqlite_statement_short.html#f_internal_stmt">internal_stmt</A> = <A HREF="../elks/any_short.html#f_default_pointer">default_pointer</A> <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_internal_db">internal_db</A> = <A HREF="../elks/any_short.html#f_default_pointer">default_pointer</A>
    internal_thread_id_set: {<A HREF="../elks/platform_short.html">PLATFORM</A>}.<A HREF="../elks/platform_short.html#f_is_thread_capable">is_thread_capable</A> <B>implies</B> <A HREF="../sqlite/sqlite_statement_short.html#f_internal_thread_id">internal_thread_id</A> /= 0

<B>note</B>
    copyright: "Copyright (c) 1984-2013, Eiffel Software"
    license: "GPL version 2 (see <a href="http://www.eiffel.com/licensing/gpl.txt">http://www.eiffel.com/licensing/gpl.txt</a>)"
    licensing_options: "<a href="http://www.eiffel.com/licensing">http://www.eiffel.com/licensing</a>"
    copying: "[
        This file is part of Eiffel Software's Eiffel Development Environment.
        
        Eiffel Software's Eiffel Development Environment is free
        software; you can redistribute it and/or modify it under
        the terms of the GNU General Public License as published
        by the Free Software Foundation, version 2 of the License
        (available at the URL listed under "license" above).
        
        Eiffel Software's Eiffel Development Environment is
        distributed in the hope that it will be useful, but
        WITHOUT ANY WARRANTY; without even the implied warranty
        of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
        See the GNU General Public License for more details.
        
        You should have received a copy of the GNU General Public
        License along with Eiffel Software's Eiffel Development
        Environment; if not, write to the Free Software Foundation,
        Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
    ]"
    source: "[
        Eiffel Software
        5949 Hollister Ave., Goleta, CA 93117 USA
        Telephone 805-685-1006, Fax 805-685-6869
        Website <a href="http://www.eiffel.com">http://www.eiffel.com</a>
        Customer support <a href="http://support.eiffel.com">http://support.eiffel.com</a>
    ]"

<B>end</B> <FONT COLOR="red">--</FONT> <FONT COLOR="red">class </FONT><A HREF="../sqlite/sqlite_statement_short.html">SQLITE_STATEMENT</A><TABLE BORDER="1" ALIGN="CENTER"><TR><TD><A HREF="../class_list.html">Classes</A></TD><TD><A HREF="../cluster_list.html">Clusters</A></TD><TD><A HREF="../cluster_hierarchy.html">Cluster hierarchy</A></TD><TD><A HREF="sqlite_statement_chart.html">Chart</A></TD><TD><A HREF="sqlite_statement_links.html">Relations</A></TD><TD><A HREF="sqlite_statement.html">Text</A></TD><TD><A HREF="sqlite_statement_flat.html">Flat</A></TD><TD>Contracts</TD><TD><A HREF="sqlite_statement_flatshort.html">Flat contracts</A></TD></TR></TABLE></PRE>
<P ALIGN="CENTER"> &#045;&#045; Generated by ISE Eiffel &#045;&#045 </P>
<P ALIGN="CENTER">For more details: <A HREF="http://www.eiffel.com">www.eiffel.com</A></P>
</BODY>
</HTML>

